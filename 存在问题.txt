刘奕胜
获取最后一个不为空的city_id可以改为调用现成的自定义函数
提交来的数据没有经过验证

$this->assign('userId',$userId); 用户ID好像是不用传给模板文件

添加收货地址应该要在添加成功之后再判断本次添加是否默认地址，如果是再更新其它的
如果添加之前就更新，如果万一添加失败，其它的也会被更新


李中纯
$data['city_id'] = I('post.city_id'); 获取不了最后一个不为空的city_id
$data['city']           = I('post.city'); 获取不了最后一个不为空的city_id

翁凯曼
$data['city_id'] = I('post.city_id'); 获取不了最后一个不为空的city_id
缺少 //3 判断如果本次添加的是默认地址就要将该会员的其它收货地址更新为不是默认地址


杨国权
提交来的数据没有经过验证

if($data == null)$this->error('你还没有添加过地址');//没有添加过地址不应该显示错误


添加收货地址应该要在添加成功之后再判断本次添加是否默认地址，如果是再更新其它的
如果添加之前就更新，如果万一添加失败，其它的也会被更新