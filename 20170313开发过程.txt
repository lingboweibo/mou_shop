分类列表页面修改：
	右上角增加【添加分类】【刷新分类缓存】的链接，
	列表里增加【停用】或【恢复】和【查看商品】3个链接，
	【停用】或【恢复】改用不同的图标（管理员、会员、城市列表页面也这样改）
	增加一个状态列
	去掉上级分类列

分类控制器增加是clearCache操作。后台公共控制器_setIsDel 里也增加判断如果是分类表就删除分类缓存
添加或修改分类的操作也增加删除分类缓存

分类控制器的add操作 修改：传来的id为空时就让它=0,添加城市的也要这样改

列表页增加如下链接（不显示文字只显示图标，列表页的其它大部分链接也去掉文字只显示图标，但有鼠标移入提示文字）：
	首页排序下移 链接到OrderIndexDown
	首页排序上移 链接到OrderIndexUp

	普通排序上移 链接到OrderUp
	普通排序下移 链接到OrderDown


学var_export函数，my_dump里用var_export代替print_r
_sql也改了


增加一个前台商品分类控制器Category，在里面增加分类联动ajax接口

分类联动ajax接口
	接口说明 客户端提交数据（主要是分类ID）给服务器端，服务器端返回该分类的下级分类给客户端
	提交方式 get
	url 前台模块分类控制器的getCategory方法的URL或TP入口文件的URL
	提交数据 m=模块名&c=控制器名&a=操作名$id=分类ID

	url+get数据的例：http://pc2016:8015/index.php?m=Home&c=Category&a=getCategory&id=22


	返回数据：
		code 是状态码，为ok表示成功,(如果传来的分类ID不存在，或者id不是数字，code 就应该是 err  表示失败，如果没有下级分类还算它是成功ok)
		msg  是状态码的补充说明
		data 是返回的分类数组，里面的键有id和name字段分别表示分类ID和分类名称

	在PHP用来生成json的数组是这样的：
	array(
		'code' => 'ok',
		'msg' => '获取下级分类成功',
		'data' => 下级分类数组,
	)

	下级分类数组的结构跟TP的模型类的select方法得到的结果集一样（里面的键有id和name字段分别表示分类ID和分类名称）


	在前台模块Home里建一个Category控制器，里面建一个getCategory操作实现如下功能：
	1、先获取get传来的分类ID
	2、判断这ID是否合法，如果不合法就按json格式返回错误；
	3、获取这个ID的分类的下级分类数组(直接调用 getCategoryData)
	4、用前面获取到的下级分类数组，拼成一个符合接口要求的数据的数组；
	5、最后把这个数组转成json格式，echo 返回

	做好了之后或者随时想测试，可用 入口文件网址?m=模块名&c=控制器名&a=操作名$id=分类ID 来访问测试，看能不能显示需要json数据
	比如传了水果的分类ID 22，看能不能显示水果的下级分类的数据（可以复制显示的json数据到在线json解析来看）


分类联动再结合联动两个排序选择框



=========下面这些未学====



分类表的两个排序字段的默认值改为1

排在某某选项的前面或后面的主要实现过程：
1、获取提交来的各数据……；
2、获取【某某选项】的排序号码 赋值给 $data['order_no']
3、如果是排在前面{
	3.1 把排序号码 大于 【某某选项】的排序号码 的分类记录的 排序号码 全部 +1 更新；
}else{//不是排在前面那就是排在后面了
	4.1 把排序号码 大于 (【某某选项】的排序号码 + 1) 的分类记录的 排序号码 全部 +1 更新；
}



把受影响的记录的序号更新，获取当前提交的分类的需要的序号





分类列表页面右上角增加一个删除分类缓存的链接


mou_shop\Application\Admin\Common\function.php 修改butLink函数的参数数组里的title可以为空

分类列表页的is_del条件改为 $map['is_del']  = array('in','0,2');



ajax的错误提示也可以放到一个公共函数里


mou_shop\statics\js\city.js
mou_shop\statics\js\category.js
这两个联动js增加 event.stopPropagation();//阻止事件冒泡

添加分类的联动和接收程序获取最后一个不为空的父ID，删除缓存
【获取最后一个不为空的父ID】可考虑放到公共函数

城市列表和分类列表增加停用按钮


商品分类更新时要删除缓存,以后做一个删除职业数据缓存的功能，

然后学文件上传，实现上传分类图标(图标文件大小120*120)

之后再学图片裁切

商品分类添加或修改页面增加选择图片预览，参考L:\教案\javascript\44_FormData_HTML5画布\画布_绘制图像_裁切居中.html